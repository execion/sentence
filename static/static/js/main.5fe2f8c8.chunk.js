(this["webpackJsonpfront-end-redux"]=this["webpackJsonpfront-end-redux"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n.n(c),s=n(22),o=n.n(s),i=n(10),u=n(17),l=n(13),j="INSERT_SENTENCES",d="ANSWER",p="QUESTION",b=(n(44),function(e){var t=e.id,n=Object(c.useState)(!0),a=Object(l.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)(new Audio("http://localhost:8000/api/audio/".concat(t))),u=Object(l.a)(i,2),j=u[0],d=u[1];Object(c.useEffect)((function(){d(new Audio("http://localhost:8000/api/audio/".concat(t))),j.load(),o(!0)}),[t]);var p=function(){var e=j.duration.toString().replace(".","");Number(e),setTimeout((function(){o(!0)}),e)};return Object(r.jsx)("button",{className:"button-game",onClick:function(){s?(j.play(),o(!1),p()):(j.pause(),o(!0))},children:">"})}),O=(n(45),function(e){var t=e.letter,n=e.type,c=e.change;return Object(r.jsx)("button",{className:"button",id:t.id,onClick:function(e){return c(e.target.id,n)},children:t.letter})}),f=function(e){var t=e.WordList,n=e.AlternateLetter,c=e.Types;return Object(r.jsx)(r.Fragment,{children:t.map((function(e){return Object(r.jsx)(O,{letter:e,type:c,change:n},e.id)}))})},h=(n(46),function(e){var t=e.count;return Object(r.jsxs)("div",{className:"counter",children:[Object(r.jsxs)("p",{children:["Correct: ",t.correct]}),Object(r.jsxs)("p",{children:["Incorrect: ",t.incorrect]}),Object(r.jsxs)("p",{children:["Count: ",t.count]})]})}),x=(n(47),n(5)),g=n(11),m=n(57),v=n(21),y=function(e,t){switch(t.type){case j:return function(e,t){var n=t.payload.split(" "),r=[];n=Object(v.a)(n);var c,a=Object(g.a)(n);try{for(a.s();!(c=a.n()).done;){var s=c.value;r.push({id:Object(m.a)(),letter:s})}}catch(o){a.e(o)}finally{a.f()}return r=Object(v.a)(r),Object(x.a)(Object(x.a)({},e),{},{loaded:!0,question:r,answerCorrect:t.payload})}(e,t);case p:return function(e,t){var n=e.question.filter((function(e){return e.id===t})),r=e.answer.concat(n),c=e.question.filter((function(e){return e.id!==t}));if(0===c.length)return(n=r.map((function(e){return e.letter})).join(" "))===e.answerCorrect?Object(x.a)(Object(x.a)({},e),{},{question:[],answer:[],countCorrect:e.countCorrect+1,index:e.index+1,count:e.count+1}):Object(x.a)(Object(x.a)({},e),{},{question:[],answer:[],countIncorrect:e.countIncorrect+1,index:e.index+1,count:e.count+1});return Object(x.a)(Object(x.a)({},e),{},{question:c,answer:r})}(e,t.payload);case d:return function(e,t){var n=e.answer.filter((function(e){return e.id===t})),r=e.question.concat(n),c=e.answer.filter((function(e){return e.id!==t}));return Object(x.a)(Object(x.a)({},e),{},{answer:c,question:r})}(e,t.payload);default:return e}};var S={loaded:!1,index:0,question:[],answer:[],answerCorrect:"",countCorrect:0,countIncorrect:0,count:0},w=function(e){return{count:e.count,correct:e.countCorrect,incorrect:e.countIncorrect}},N=function(e,t){return e[t.index%e.length].id},E=Object(i.b)((function(e){var t=e.sentenceState;return{sentences:t.sentences,init:!t.loading}}),void 0)((function(e){var t=e.sentences,n=Object(c.useReducer)(y,S),a=Object(l.a)(n,2),s=a[0],o=a[1],i=function(e,t){return o({type:t,payload:e})};return Object(c.useEffect)((function(){!function(e,t,n){if(e.length>0){var r=e[t.index%e.length].sentence;n({type:j,payload:r})}}(t,s,o)}),[s.index]),s.loaded?Object(r.jsxs)("div",{className:"container",children:[Object(r.jsx)(h,{count:w(s)}),Object(r.jsx)(b,{id:N(t,s)}),Object(r.jsx)("div",{className:"answer",children:Object(r.jsx)(f,{WordList:s.answer,AlternateLetter:i,Types:d})}),Object(r.jsx)("div",{className:"question",children:Object(r.jsx)(f,{WordList:s.question,AlternateLetter:i,Types:p})})]}):Object(r.jsx)("div",{children:"Loading...."})})),T=(n(48),function(e){var t=e.username;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("button",{className:"button-login",children:" ".concat(t," >")})})}),C=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(u.b,{to:"/",children:Object(r.jsx)("button",{className:"button-login",children:"Login"})}),Object(r.jsx)(u.b,{to:"/signup",children:Object(r.jsx)("button",{className:"button-signup",children:"Sign-up"})})]})},I=Object(i.b)((function(e){var t=e.loginState;return console.log(t),{logined:t.loading,username:t.username}}),void 0)((function(e){var t=e.logined,n=e.username;return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("div",{className:"logo",children:Object(r.jsx)("img",{src:"./img/logo.png",alt:"logo"})}),Object(r.jsx)("div",{className:"nav",children:t?Object(r.jsx)(T,{username:n}):Object(r.jsx)(C,{})})]})})),q=n(3),L=n.n(q),P=n(6),F="SET_SENTENCES",k="GET_SENTENCES",A=Object(i.b)((function(e){return{init:e.sentenceState.loading}}),{getSentences:function(){return function(){var e=Object(P.a)(L.a.mark((function e(t){var n,r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:F}),n={passport:localStorage.getItem("passport")},e.next=4,fetch("http://localhost:8000/api/sentences",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:"object"===typeof(c=e.sent)&&t({type:k,payload:Object(v.a)(c)});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.init,n=e.getSentences;return Object(c.useEffect)((function(){n()}),[n]),t?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{}),Object(r.jsx)("p",{children:"..Loading"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{}),Object(r.jsx)(E,{})]})})),J=n(4),R=(n(53),"SET_PASSPORT"),W=n(23),_=Object(i.b)(void 0,{getPassport:function(e,t){return function(){var n=Object(P.a)(L.a.mark((function n(r){var c,a,s;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={username:e,password:t},n.next=3,fetch("http://localhost:8000/login/access",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});case 3:return a=n.sent,n.next=6,a.json();case 6:s=n.sent,r({type:R,payload:{passport:s,username:e}});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.getPassport,n=Object(W.a)(),c=n.register,a=n.handleSubmit;return Object(r.jsx)("div",{className:"login-container",children:Object(r.jsxs)("form",{className:"login",onSubmit:a((function(e){t(e.username,e.password)})),children:[Object(r.jsx)("input",{type:"text",placeholder:"User",name:"username",ref:c}),Object(r.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:c}),Object(r.jsx)("button",{type:"submit",children:"Login"})]})})})),U=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{}),Object(r.jsx)(_,{})]})},B=(n(54),function(){var e=Object(W.a)(),t=e.register,n=e.handleSubmit,c=function(){var e=Object(P.a)(L.a.mark((function e(t){var n,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8000/login/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"container-signup",children:Object(r.jsxs)("form",{className:"form-signup",onSubmit:n(c),children:[Object(r.jsx)("input",{type:"text",name:"username",placeholder:"username",ref:t}),Object(r.jsx)("input",{type:"password",name:"password",placeholder:"password",ref:t}),Object(r.jsx)("input",{type:"password",name:"repeatpassword",placeholder:"repeat password",ref:t}),Object(r.jsx)("input",{type:"text",name:"email",placeholder:"e-mail",ref:t}),Object(r.jsx)("button",{className:"button-signup-form",children:"Send"})]})})})}),G=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(I,{}),Object(r.jsx)(B,{})]})},M=Object(i.b)((function(e){return{havePassport:e.loginState.loading}}))((function(e){return e.havePassport?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(J.c,{children:Object(r.jsx)(J.a,{exact:!0,path:"/",component:A})})}):Object(r.jsxs)(J.c,{children:[Object(r.jsx)(J.a,{exact:!0,path:"/",component:U}),Object(r.jsx)(J.a,{exact:!0,path:"/signup",component:G})]})})),Q={loading:!1,sentences:[]},z=n(18),D=n(32),H={username:"username"in localStorage?localStorage.getItem("username"):"",passport:"passport"in localStorage?localStorage.getItem("passport"):"",loading:"passport"in localStorage},K=function(e,t){return console.log(t.payload),!1===t.payload?e:t.payload.passport.length>4?(localStorage.setItem("passport",t.payload.passport),localStorage.setItem("username",t.payload.username),Object(x.a)(Object(x.a)({},e),{},{loading:!0,passport:t.payload.passport,username:t.payload.username})):e},V=Object(z.c)({sentenceState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case k:return Object(x.a)(Object(x.a)({},e),{},{loading:!1,sentences:t.payload});default:return e}},loginState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return K(e,t);default:return e}}}),X=Object(z.d)(V,Object(z.a)(D.a));o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(i.a,{store:X,children:Object(r.jsx)(M,{})})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.5fe2f8c8.chunk.js.map